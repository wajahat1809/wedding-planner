"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26761,77984],{77984:function(e,t,n){n.r(t),n.d(t,{Copy:function(){return o}});var r=n(57460),i=n(52322),a=(0,n(96374).Z)((0,i.jsx)("path",{d:"M24 11.333V14h2.667v13.333H13.334v-2.667h-2.667v5.333h18.667V11.332zm-2.667-8H2.666V22h18.667V3.333zm-2.666 16H5.334V6h13.333v13.333z"}),"Copy.svg"),o=e=>(0,i.jsx)(a,(0,r._)({viewBox:"0 0 32 32"},e))},49270:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(57460),i=n(38398),a=e=>{var{urlParams:t={},queryParams:n={}}=e,a="/bundle/".concat(t.filename),o=(0,r._)({},n);return{url:a,defaultParams:o,formattedUrl:(0,i.format)({pathname:a,query:o})}}},35936:function(e,t,n){n.d(t,{V:function(){return H}});var r,i=n(81862),a=n(57460),o=n(64270),l=n(85594),u=n(83050),s=n(97115),d=n(2500),c=n(64372),v=n(31125),f=n(49956),m=n(9778),p=n(1150),h=n(30095),_=n(57639),g=n(99319),y=n(30097),w=n(34448),S=n(94671),b=n(73637),I=n(35409),k=n(3383),C=n(2370),z=n(79756),x=n(64528),T=n(2784),A=n(3255),O=n(30612),U=e=>{var{queryParams:t}=e;return(0,m.nS)({queryParams:t}).formattedUrl},j=e=>{var{assetId:t,asset:{id:n,tier:r=10,src:i,aspect:a,width:o,height:l}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:n,rex_id:n,media_type:h.gP,tier:r,media:{aspect:a,width:o,height:l,url:i}}}}},N=(r=(0,i._)(function*(e){var t,{isRexEditorial:n,collectionId:r,verificationCode:i,setAsCover:a,firstAsset:o,collectionType:l}=e,u=(0,d.A8)(o);if(u===h.VT){var s=(0,m.Yz)({queryParams:{id:r,verificationCode:i,collectionType:l}}).formattedUrl,c=yield z.uS.get(s).then(e=>(0,x.O)(e.data)||{});if(!(null==c?void 0:null===(t=c.coverItem)||void 0===t?void 0:t.id)){var v=(0,d.OP)({asset:o,isRexEditorial:n}),f=(0,S.Q)({collectionId:r,mappedAssetType:u,assetId:v});yield a({collection:{id:r},mediaItem:{id:f}})}}}),function(e){return r.apply(this,arguments)}),D=()=>{var e,[t,n]=(0,T.useState)({status:"",error:void 0}),[r,o]=(0,T.useState)(""),[l,u]=(0,T.useState)(""),s=(0,I.J)(),{setAsCover:c}=(0,O.w)(),{isBrandSstk:v}=(0,k.D)(),{analytics:f}=(0,C.yh)(),x=(0,y.UM)(f),{mutate:D}=(0,A.kY)();return{add:(0,T.useCallback)((e=(0,i._)(function*(e){var{assets:t,assetType:r,gridItems:i,groupedOptions:l,id:f,title:y,verificationCode:I,pageSection:k,listId:C}=e,T=(0,w.wZ)({assetType:r,isBrandSstk:v});try{n({status:p.MR,error:void 0});var A=(0,d.Xo)(r),O=f,P=I;if(l&&l.length){var F=l.find(e=>{var{title:t}=e;return t===y});F&&(O=F.id,P=F.verificationCode)}if(!O){var M=(0,m.A6)().formattedUrl,E={data:{attributes:{title:y,collectionType:T,isPublic:!1},type:_.Ul}},{data:{id:J,attributes:{verificationCode:R}}}=yield z.uS.post(M,E);O=J,P=R}var V={data:t.map(e=>{var t=(0,d.OP)({asset:e,isRexEditorial:A}),n=(0,d.A8)(e);return(0,a._)({type:_.A8,id:(0,S.Q)({collectionId:O,mappedAssetType:n,assetId:t})},n===h.VT&&j({assetId:t,asset:e}))})},q=(0,m.mp)({urlParams:{id:O},queryParams:{isRexEditorial:A}}).formattedUrl,B=(0,b.y)(x);yield z.uS.post(q,V,B?{headers:{[g.as]:B}}:void 0);var Z=t[0];yield N({isRexEditorial:A,collectionId:O,verificationCode:P,setAsCover:c,firstAsset:Z,collectionType:T}),s({collectionId:O,collectionName:y,gridItems:i,assets:t,pageSection:k,listId:C}),o(O),u(P)}catch(e){n({status:p.cM,error:e})}finally{yield D(U({queryParams:{"filter[type]":T}}))}}),function(t){return e.apply(this,arguments)}),[v,x,c,s,D]),collectionId:r,setStatus:n,status:t,verificationCode:l}},P=n(46814),F=n(58435),M=n(52322),E=n(65764),J=n(35671),R=n(25237),V=n.n(R),q=n(2281),B=V()(()=>Promise.all([n.e(3764),n.e(20614),n.e(40991),n.e(12991),n.e(25353),n.e(9046),n.e(65438)]).then(n.bind(n,16551)).then(e=>e.CollectionModal),{loadableGenerated:{webpack:()=>[16551]},ssr:!1}),Z=e=>{var{isOpen:t}=e,n=(0,q._)(e,["isOpen"]);return(0,J.B)(t)&&(0,M.jsx)(B,(0,a._)({isOpen:t},n))},X=V()(()=>Promise.all([n.e(3764),n.e(20614),n.e(13157),n.e(6999),n.e(17078),n.e(77242)]).then(n.bind(n,48384)).then(e=>e.SaveSnackbarOrModal),{loadableGenerated:{webpack:()=>[48384]},ssr:!1}),Y=V()(()=>n.e(37667).then(n.bind(n,37667)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[37667]},ssr:!1}),K=e=>{var{assets:t,assetType:n="",collectionId:r,collectionTitle:i,gridItems:a=null,isDialogActive:o,isSnackBarOpen:l,onAddToCollections:s,onAlertSnackbarClose:d,onAddToCollectionsComplete:c,redirectToCDPAction:v={},setIsDialogActive:f,showCopyToModalTitle:m,status:p,verificationCode:h,pageSection:_,isMoveTo:g}=e,y=(0,E.f)(),w=(0,J.B)(t),S=(0,T.useCallback)(()=>f(!1),[f]),{folders:b}=(0,u.c)();return w?!y&&o?b&&(0,M.jsx)(X,{onClose:S,setIsDialogActive:f,isOpen:o,items:t,onAddToCollectionsComplete:c,pageSection:_,isMoveTo:g}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Z,{assets:t,assetType:n,collectionId:r,gridItems:a,isOpen:o,onAddToCollections:s,setIsDialogActive:f,showCopyToModalTitle:m,pageSection:_,isMoveTo:g}),(0,M.jsx)(Y,{assetType:n,collectionId:r,collectionTitle:i,isOpen:l,onAlertSnackbarClose:d,redirectToCDPAction:v,status:p,verificationCode:h})]}):null},L=e=>[].concat(e),H=e=>{var t,{initialAssetType:n}=e,r=(0,l.r)(),[m,p]=(0,T.useState)(!1),[h,_]=(0,T.useState)(!1),[g,y]=(0,T.useState)(!1),[w,S]=(0,T.useState)(""),[b,I]=(0,T.useState)(null),[k,C]=(0,T.useState)(n),[z,x]=(0,T.useState)(null),[A,O]=(0,T.useState)(null),[U,j]=(0,T.useState)(!1),[N,M]=(0,T.useState)(null),[E,J]=(0,T.useState)({}),R=(0,P.B)(),V=(0,c.cM)(),q=(0,v.L)(),B=(0,f.d)(),{isModalOpen:Z,handleCloseModal:X,handleOpenModal:Y}=(0,o.o)(),[H,G]=(0,T.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:q}),{add:Q,status:W,collectionId:$,verificationCode:ee}=D(),{setIsSaveInProgress:et,setDisableFetch:en}=(0,u.c)();(0,T.useEffect)(()=>()=>I(null),[]),(0,T.useEffect)(()=>()=>C(""),[]);var er=(0,T.useCallback)(e=>{var{formattedAssets:t,gridItems:n,isCopyToCollection:r,mappedAssetType:i,redirectToCollectionDetailsPage:a,pageSection:o,listId:l,isMoveToAction:u}=e;C(i),I(t),O(o),M(l),j(u),r&&y(!0),n&&x(n),a&&G({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:a}),p(!0)},[]),ei=(0,T.useMemo)(()=>({assets:b,pageSection:A,assetType:k,collectionId:$,collectionTitle:w,gridItems:z,isDialogActive:m,isSnackBarOpen:h,onAddToCollections:e=>{var{id:t,title:n,verificationCode:r,groupedOptions:i,pageSection:a}=e;return S(n),p(!1),_(!0),Q({assetType:k,assets:b,gridItems:z,groupedOptions:i,id:t,title:n,verificationCode:r,pageSection:a||A,listId:N})},onAlertSnackbarClose:()=>_(!1),redirectToCDPAction:H,setIsDialogActive:p,showCopyToModalTitle:g,status:W,verificationCode:ee,isMoveTo:U}),[b,z,Q,N,A,k,$,w,m,h,H,g,W,ee,U]),ea=(0,T.useCallback)((t=(0,i._)(function*(e){var t,n,{assets:i,gridItems:o,isCopyToCollection:l=!1,redirectToCollectionDetailsPage:u,pageSection:c,listId:v,openModal:f=!1,cta:m="",isMoveToAction:p=!1}=e;if((null==r?void 0:r.current)&&(r.current.isInProgress=!0,null===(t=(n=r.current).continuousStart)||void 0===t||t.call(n)),yield(0,F.y)(),R){en(!1),et(!0);var h=L(i);er({formattedAssets:h,gridItems:o,isCopyToCollection:l,mappedAssetType:(0,d.A8)(h[0]),redirectToCollectionDetailsPage:u,pageSection:c,isMoveToAction:p,listId:v})}else f&&!B?(J((0,a._)({cta:m},i&&{assets:i},o&&{gridItems:o})),i&&window.sessionStorage.setItem(s.Iz,JSON.stringify(i)),o&&window.sessionStorage.setItem(s.em,JSON.stringify(o)),Y()):(0,s.JO)({assets:i,gridItems:o,signUpPath:V})}),function(e){return t.apply(this,arguments)}),[R,B,en,et,er,r,Y,V]),eo=e=>e&&"undefined"!==e,el=(0,T.useCallback)((0,i._)(function*(){var e=window.sessionStorage.getItem(s.Iz),t=window.sessionStorage.getItem(s.em);if(eo(e)&&eo(t)){var n=JSON.parse(e),r=JSON.parse(t);yield ea({assets:n,gridItems:r,redirectToCollectionDetailsPage:!1})}window.sessionStorage.removeItem(s.cy),window.sessionStorage.removeItem(s.Iz),window.sessionStorage.removeItem(s.em)}),[ea]);return(0,T.useEffect)(()=>{var e=window.sessionStorage.getItem(s.cy);eo(e)&&JSON.parse(e)?R&&el():(0,s.DZ)({showAddToCollectionModal:er,isLoggedInUser:R})},[el,R,er]),{addToCollectionViewsProps:ei,addToCollectionViewsHandler:ea,AddToCollectionViews:K,isModalOpen:Z,handleCloseModal:X,collectionProps:E}}},9591:function(e,t,n){n.d(t,{b:function(){return m}});var r=n(81862),i=n(52322),a=n(60411),o=n(64109),l=n(11045),u=n(1150),s=n(99384),d=n(77984),c=n(34273),v=n.n(c),f=n(2784),m=e=>{var{classesProps:t={},clickAnalyticsLabel:n="",errorMessage:c,successMessage:m,text:p="",label:h="",Component:_=l.h,tooltip:g}=e,{enqueueSnackbar:y}=(0,s.D)(),w=!p,S=(0,f.useCallback)((0,r._)(function*(){try{yield v()(p),y({message:m,alertSeverity:u.MR,isDismissible:!0})}catch(e){e&&y({message:c,alertSeverity:u.cM,error:e,isDismissible:!0})}}),[y,c,m,p]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{display:"inline-flex",flexDirection:"column",justifyContent:"center",textAlign:"center",mx:1,children:(0,i.jsx)(o.l,{title:g,placement:"top",children:(0,i.jsxs)(_,{"aria-label":g,className:t.copyToClipboard,clickTrack:n,disabled:w,onClick:()=>S(),size:"small",children:[(0,i.jsx)(d.Copy,{fontSize:"small",className:t.copyIcon}),h]})})})})}},64270:function(e,t,n){n.d(t,{o:function(){return a}});var r=n(24401),i=n(2784),a=()=>{var[e,t]=(0,i.useState)(!1),n=(0,r.d)();return{isModalOpen:e,handleOpenModal:()=>{n({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},38135:function(e,t,n){n.r(t),n.d(t,{DynamicSnackbar:function(){return c}});var r=n(52322),i=n(1150),a=n(98331),o=n(25237),l=n.n(o),u=n(2784),s=n(71146),d=l()(()=>n.e(55130).then(n.bind(n,87833)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[87833]},ssr:!1}),c=e=>{var{alertAction:t={},alertSeverity:n=i.H_,error:o,handleSnackbarClose:l=a.ZT,isOpen:c,message:v="",onSnackbarExited:f=a.ZT,isDismissible:m=!0,anchorOrigin:p=s.rX}=e,[h,_]=(0,u.useState)(!1);return(0,r.jsx)(r.Fragment,{children:c||h?(0,r.jsx)(d,{alertAction:t,alertSeverity:n,error:o,handleSnackbarClose:l,isOpen:c,message:v,onSnackbarExited:f,setEntered:_,isDismissible:m,anchorOrigin:p},v):null})}},19623:function(e,t,n){n.d(t,{J:function(){return o}});var r=n(98331),i=n(2784),a={applyCanvasViewed:r.ZT,applyToolAnalytics:r.ZT,emitEditProductAnalyticsEvent:r.Au},o=(0,i.createContext)(a)},30390:function(e,t,n){n.d(t,{k:function(){return a}});var r=n(2784),i=n(19623),a=()=>(0,r.useContext)(i.J)},87411:function(e,t,n){n.d(t,{L:function(){return v},M:function(){return c}});var r=n(57460),i=n(6692),a=n(33624),o=n(31879),l=n(30095),u=n(34953),s=n(82024),d=n(2500),c=e=>{var{asset:t}=e;switch((0,d.Tp)(t)){case l.pX:return(0,s.FG)(Object.values(t.sizes));case l.k4:default:return(0,s.Nf)((null==t?void 0:t.sizes)&&Object.values(t.sizes))}},v=e=>{var t,n,c,{asset:v,selectedAssetSize:f,selectedShadowsOption:m,isTitleNeeded:p=!1}=e,h=(0,u.qw)({asset:v}),_=(0,d.f8)(v);(0,d.so)(v)&&(h=l.A7);var g=v.id.toString(),y=(0,u.JD)({assetType:h,assetId:g});switch(h){case l.pX:case l.A7:n=null==(t=f||(null===(c=(0,s.Z)({sizes:v.sizes}))||void 0===c?void 0:c[0]))?void 0:t.resolution;break;case l.j0:case l.tn:case l.xF:n=null==(t=f)?void 0:t.resolution;break;case l.pV:case l.ox:default:t=f||(0,s.Nf)(v.sizes),[n]=t.name.split("_")}return(0,r._)({content_id:g,content_type:y,content_size:n,content_format:null==t?void 0:t.format},p?{content_title:null==v?void 0:v.title}:{},_?(0,i._)((0,r._)({},f.format===o.yI&&{include_shadows:"on"===m}),{angle:(null==v?void 0:v.angle)||a.U}):{})}},97115:function(e,t,n){n.d(t,{DZ:function(){return s},Iz:function(){return i},JO:function(){return u},LE:function(){return o},cy:function(){return l},em:function(){return a}});var r=n(2500),i="add_to_collection_asset",a="add_to_collection_grid_items",o="Save",l="save_to_collection",u=e=>{var{assets:t,gridItems:n,signUpPath:r}=e;window&&(t&&window.sessionStorage.setItem(i,JSON.stringify(t)),n&&window.sessionStorage.setItem(a,JSON.stringify(n)),window.location=r)},s=e=>{var{showAddToCollectionModal:t,isLoggedInUser:n}=e;if(void 0!==n){if(n){let e;var o=window.sessionStorage.getItem(i),l=window.sessionStorage.getItem(a);if(o&&"undefined"!==o&&(e=l)&&"undefined"!==e){var u=JSON.parse(o),s=JSON.parse(l),d=[].concat(u);t({formattedAssets:d,gridItems:s,mappedAssetType:(0,r.A8)(d[0]),isCopyToCollection:!1,redirectToCollectionDetailsPage:!1})}}window.sessionStorage.removeItem(i),window.sessionStorage.removeItem(a)}}},34448:function(e,t,n){n.d(t,{$m:function(){return y},Ak:function(){return m},Ck:function(){return w},E4:function(){return b},Nb:function(){return v},U0:function(){return S},WP:function(){return g},fg:function(){return f},w4:function(){return _},wZ:function(){return I}});var r=n(57460),i=n(6692),a=n(75171),o=n(30095),l=n(57639),u=n(30645),s=n(30097),d=n(82024),c=n(2500),v=e=>"Untitled"===e,f=function(){var{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},m=e=>{var t=!(null==e?void 0:e.role)&&!(null==e?void 0:e.isPublic);return(null==e?void 0:e.role)===u.ad||t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,n,r]=t.split("-");return{id:r,type:n===o.j0?o.xF:n,aspect:1,src:"",previewImageUrl:""}},h=function(){var e,t,{metadata:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.tracking){try{e=(0,s.Be)({trackingId:null===(t=JSON.parse(n.tracking))||void 0===t?void 0:t.search})}catch(t){e=(0,s.Be)({trackingId:n.tracking})}return(0,r._)({search_context:e},i)}return i},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(null===(e=t.mediaItem)||void 0===e?void 0:e.id)?(0,d.Sw)(t.mediaItem):n&&p(t)},g=(e,t)=>e?e.reduce((e,n)=>{var a=_(n,t);return e.collectionItems.push((0,i._)((0,r._)({},n),{mediaItem:(0,i._)((0,r._)({},a),{meta:h(n,null==n?void 0:n.meta)})})),a&&e.mediaItems.push((0,i._)((0,r._)({},a),{meta:h(n,null==a?void 0:a.meta)})),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},y=e=>{var{assetType:t,t:n,totalItemCount:r}=e,i=t===o.gP,a=1===r,l=i?"ent:collection_editorial_total_single":"feature-collections:number_".concat(o.d_[t],"_single"),u=i?"ent:collection_editorial_total_plural":"feature-collections:number_".concat(o.d_[t],"_plural");return n(a?l:u,{NUM_TRACKS:r})},w=e=>{var{t,formatter:n,date:r}=e;if(!n||!r)return"";try{return t("footage:directors_choice_list_collection_card_edited_date",{DATE:n(new Date(r))})}catch(e){return console.error(e),""}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===l.A8)},b=e=>{var{assets:t=[],assetType:n}=e;switch(n){case o.xF:case o.j0:return t.some(e=>(0,c.O)({track:e}));case o.k4:return t.some(e=>(0,c.PD)(e));default:return!1}},I=e=>{var{assetType:t,isBrandSstk:n}=e;return n?a.p[t]:l.sE[t]}},43677:function(e,t,n){n.d(t,{Oo:function(){return P},rB:function(){return C}});var r,i,a,o,l=n(81862),u=n(57460),s=n(9778),d=n(33624),c=n(31879),v=n(63002),f=n(30095),m=n(52078),p=n(29599),h=n(34082),_=n(82024),g=n(2500),y=n(19448),w=n(79756),S=n(64528),b=n(2100),I=n(34953),k=e=>{var t,n,{asset:r}=e,{angle:i,selectedFormatType:a,selectedShadowsOption:o}=r;return(0,u._)({angle:i||(null==r?void 0:null===(n=r.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.angle)||d.U,content_size:v.JF},a===c.yI&&{include_shadows:"on"===o})},C=e=>{var t,n,{asset:r}=e;return(null==r?void 0:null===(n=r.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.sizes)||r.sizes},z=(r=(0,l._)(function*(e){var t,{asset:n}=e;if((null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.cart)&&!n.metadata.cart.sizes){var r=(0,g.so)(n),i={id:n.id};return r&&(i.channel=m.$S,i.content_provider=p._e),(yield w.uS.get((0,s.om)({queryParams:i}).formattedUrl).then(e=>{var{data:t}=e;return(0,S.O)(t)})).sizes}return C({asset:n})}),function(e){return r.apply(this,arguments)}),x=e=>{var t,n,r,i,{asset:a,is3dObject:o,isRexEditorial:l,selectedAssetSize:u}=e;return a.licenseAsJpeg||(null===(n=a.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.licenseAsJpeg)?"jpeg":o&&a.selectedFormatType?"3dByFormat":o&&(null===(i=a.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.size)?"3dBySize":y.Bg[u]?"comped":l?"rexEditorial":"default"},T=e=>{var t,n,r,i,{asset:a,licenseStrategy:o,selectedAssetSize:l,sizesToUseArray:u}=e,s=(()=>{switch(o){case"jpeg":return u.find(e=>{var{format:t}=e;return t===c._3});case"3dByFormat":return u.find(e=>{var{format:t}=e;return t===a.selectedFormatType});case"3dBySize":return;case"comped":return(0,_.AR)({sizes:u,compSizeImage:l});default:return(0,_.Nf)(u)}})(),d=(null==s?void 0:s.format)||(null===(n=a.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.format);switch(o){case"rexEditorial":return{size:v.vD,format:d};case"3dByFormat":var[f]=s.name.split("_");return{size:f,format:d};case"3dBySize":return{size:null==a?void 0:null===(i=a.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.size,format:d};default:return{size:y.nd[(0,b.z)(s.name)].downloadName,format:d}}},A=e=>{var t,n,r,i,{selectedAssetSize:a,asset:o}=e,l=C({asset:o}),s=(0,g.EK)(o),d=(0,g.f8)(o),c=d?k({asset:o,selectedAssetSize:a,sizesToUse:l}):{};if(!l&&(null==o?void 0:null===(n=o.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.size)&&(null==o?void 0:null===(i=o.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.format))return(0,u._)({content_size:s?v.vD:o.metadata.cart.size,content_format:o.metadata.cart.format},c);var f=Object.values(l),m=x({asset:o,is3dObject:d,isRexEditorial:s,selectedAssetSize:a}),{size:p,format:h}=T({asset:o,licenseStrategy:m,selectedAssetSize:a,sizesToUseArray:f});return(0,u._)({content_size:p,content_format:h},c)},O=e=>{var{map:t,licenseName:n}=e,r=t[n];return r===v.T0?v.qY:r},U=e=>{var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,sizes:a}=e,o=(0,g.EK)(t),l=(0,g.cL)(t),u=(0,g.$Q)({sizes:Object.values(a)});return!r&&u?O({map:y.Q1,licenseName:n}):r||n===h.f12||o||l?!i||o||l?(0,_.mF)(a):y.kR[i]:O({map:y.kR,licenseName:n})},j=(i=(0,l._)(function*(e){var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i}=e,a=yield z({asset:t}),o=U({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,sizes:a}),l=(0,g.EK)(t),u=Object.values(a).find(e=>{var{resolution:t}=e;return y.wb[null==t?void 0:t.toLowerCase()]===o});return{content_size:l?v.vD:o,content_format:null==u?void 0:u.format}}),function(e){return i.apply(this,arguments)}),N=e=>{var t,{format:n,selectedAssetSize:r}=e;switch(r){case"stereo":t=v.cs;break;case"5.1":t=v.gp;break;default:t=v.yy}return{content_size:t,content_format:n===c.iH?c.iH:c._Y}},D=(a=(0,l._)(function*(e){var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,format:a}=e,o=(0,I.qw)({asset:t});switch((0,g.so)(t)&&(o=f.A7),o){case f.pX:case f.A7:return yield j({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i});case f.j0:return{content_size:v.Ng,content_format:f.j0};case f.tn:return N({selectedAssetSize:i,format:a});default:return A({selectedAssetSize:i,asset:t})}}),function(e){return a.apply(this,arguments)}),P=(o=(0,l._)(function*(e){var{licenseName:t,selectedAssetSize:n,asset:r,isVideoComp:i,format:a}=e,o=(0,I.qw)({asset:r}),l=r.id.toString();return(0,u._)({content_id:l,content_type:(0,I.JD)({assetType:o,assetId:l})},(yield D({asset:r,licenseName:t,isVideoComp:i,selectedAssetSize:n,format:a})))}),function(e){return o.apply(this,arguments)})},34953:function(e,t,n){n.d(t,{Fy:function(){return s},JD:function(){return o},Js:function(){return d},qw:function(){return l},rw:function(){return u}});var r=n(30095),i=n(34082),a=n(2500),o=e=>{var{assetId:t,assetType:n}=e;if((0,a.EK)({id:t}))return r.gP;switch(n){case r.k4:case r.Y_:case r.ox:case r.w5:return r.pV;case r.FM:return r.pX;case r.xF:case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},l=e=>{var t,{asset:n}=e;if(null===(t=n.image)||void 0===t?void 0:t.isVector)return r.ox;if((0,a.EK)(n))return r.gP;var i=n.imageType||n.itemType||n.type;switch(i){case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return i}},u=e=>{var{asset:t}=e;if((0,a.N3)(t))return r.gP;if((0,a.so)(t))return r.cF;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},s=e=>{var{asset:t}=e;if((0,a.N3)(t))return r.nX;if((0,a.so)(t))return r.A7;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:case r.xF:return r.j0;case r.tn:return r.tn;default:return n}},d=e=>{var t=s({asset:e.mediaItem});return e.licenseName===i._rW[t]}},40787:function(e,t,n){n.d(t,{KW:function(){return v},VC:function(){return f},fp:function(){return s},lR:function(){return d},ok:function(){return m},qG:function(){return c},r8:function(){return p},vG:function(){return u}});var r=n(63002),i=n(30095),a=n(2500),o=n(39754),l=[i.pX],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!o.n5||"string"!=typeof e||e.includes("ip=x".concat(t)))return e;try{var n=new URL(e);return n.searchParams.set("ip","x".concat(t)),n.href}catch(t){return e}},s=e=>{var t,n,r;return(null==e?void 0:e.mediaItem)?{previewImageUrl:null===(n=e.mediaItem)||void 0===n?void 0:n.previewImageUrl,previewVideoUrls:null===(r=e.mediaItem)||void 0===r?void 0:r.previewVideoUrls}:{previewImageUrl:(null==e?void 0:e.thumbImageUrl)||(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url)||(null==e?void 0:e.previewImageUrl),previewVideoUrls:null==e?void 0:e.previewVideoUrls}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,a.Am)(e)){var i,o,l,d=e.src||(null===(i=e.image)||void 0===i?void 0:i.url);return n&&(null==e?void 0:null===(l=e.displays)||void 0===l?void 0:null===(o=l[r.F5])||void 0===o?void 0:o.src)||d}var{previewImageUrl:c}=s(e);return u(c,t)},c=e=>{var{assetType:t}=e;return t===i.pX?"mp4":null},v=e=>{var{asset:t}=e;return l.includes((0,a.Tp)(t))&&!(0,a.so)(t)},f=function(){var e,t,n,i,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,a.vh)(null==l?void 0:l.type))return(null==l?void 0:l.width)>1e3?"".concat(null==l?void 0:l.previewUrls[0],"?width=1000"):null==l?void 0:l.previewUrls[0];var u=(0,a.EK)(l)?r.bm:r.RA,s=(null==l?void 0:null===(t=l.displays)||void 0===t?void 0:null===(e=t[u])||void 0===e?void 0:e.src)||(null==l?void 0:null===(o=l.image)||void 0===o?void 0:null===(i=o.displays)||void 0===i?void 0:null===(n=i[u])||void 0===n?void 0:n.src);return(0,a.f8)(l)&&l.angle?s.replace(/\/([A-Z]\d\d)./,"/".concat(l.angle,".")):s},m=function(){var e,t,n,o,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,a.Tp)(u);return s===i.k4||s===i.zo||s===i.Nk?(null==u?void 0:null===(t=u.displays)||void 0===t?void 0:null===(e=t[r.bm])||void 0===e?void 0:e.src)||(null==u?void 0:u.src):s===i.bz?null==u?void 0:null===(n=u.imageVariants)||void 0===n?void 0:n["1500"]:s===i.xF||s===i.tn?null==u?void 0:u.previewMp3:s===i.hv?null==u?void 0:u.previewUrls[0]:s===i.D8?null===(l=u.cmsEntry)||void 0===l?void 0:null===(o=l.image)||void 0===o?void 0:o.url:null},p=function(){var e,t,n,r,i,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={width:null!==(r=null!==(n=l.width)&&void 0!==n?n:null===(e=l.mediaItem)||void 0===e?void 0:e.width)&&void 0!==r?r:0,height:null!==(o=null!==(i=l.height)&&void 0!==i?i:null===(t=l.mediaItem)||void 0===t?void 0:t.height)&&void 0!==o?o:0};if((0,a.Am)(l)&&(!s.width||!s.height)&&l.sizes){var d=Object.keys(l.sizes).find(e=>l.sizes[e]);s.width=d&&l.sizes[d].width||0,s.height=d&&l.sizes[d].height||0}if(u&&(!s.width||!s.height)&&l.aspectRatioCommon){var[c,v]=l.aspectRatioCommon.split(":");s.width=Number(c),s.height=Number(v)}return s}},73637:function(e,t,n){n.d(t,{y:function(){return r}});var r=e=>{var{subPage:t,pageType:n}=e;return[t,n].join("-")}},19567:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(2370),i=n(2784),a=()=>{var{analytics:e}=(0,r.yh)();return(0,i.useCallback)(function(){var{pageSection:t,eventLabel:n,clickTrackOptions:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&n&&e.inlineClick("".concat(t,".").concat(n),r)},[e])}},35409:function(e,t,n){n.d(t,{J:function(){return l}});var r=n(30097),i=n(44335),a=n(2370),o=n(2784),l=()=>{var{analytics:e}=(0,a.yh)(),{getSearchContext:t}=(0,i.Y)();return(0,o.useCallback)(n=>{var{collectionId:i,collectionName:a,gridItems:o,assets:l,pageSection:u,listId:s}=n;e.productAddedToWishlist({products:l.map(e=>(0,r.bR)({asset:e,getSearchContext:t,gridItems:o,pageSection:u})),wishlist_id:i,wishlist_name:a,list_id:null!=s?s:""})},[e,t])}},889:function(e,t,n){n.d(t,{U:function(){return c}});var r=n(57460),i=n(16093),a=n(30390),o=n(38170),l=n(30097),u=n(44335),s=n(2370),d=n(2784),c=()=>{var{analytics:e}=(0,s.yh)(),{locale:t}=(0,o.PE)(),{emitEditProductAnalyticsEvent:n}=(0,a.k)(),{getSearchContext:c}=(0,u.Y)();return(0,d.useCallback)(a=>{var{assets:o=[],audioContext:u,eventLabel:s,licenseId:d,isRedownload:v,isQuickDownload:f,isPaid:m,isComp:p,pageSection:h,listId:_}=a,g=s||p&&i.Vp1||void 0;e.productDownloaded((0,r._)({products:o.map(e=>(0,l.bR)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:d,pageSection:h})),download_context:(0,l.OB)({asset:o[0],isComp:p,isPaid:m,isQuickDownload:f,isRedownload:v,language:t}),eventLabel:g,list_id:null!=_?_:"",search_context:c(o[0])},u&&{audio_context:(0,r._)({},u)})),n("license")},[e,t,c,n])}},45077:function(e,t,n){n.d(t,{T:function(){return s}});var r=n(57460),i=n(30097),a=n(2500),o=n(44335),l=n(2370),u=n(2784),s=()=>{var{analytics:e}=(0,l.yh)(),{getSearchContext:t}=(0,o.Y)();return(0,u.useCallback)(n=>{var{asset:o,eventLabel:l,gridItems:u,isPreview:s,listId:d,pageSection:c}=n,v=(0,i.qI)(o),f=(0,i.f_)(o),m=(0,i.Rz)(o);e.productViewed((0,r._)({eventLabel:l,list_id:null!=d?d:"",page_section:c,asset_type:(0,a.ZZ)(o),category:(0,i.CP)(o),channels:(0,i.Ky)(o),is_preview:s,name:(0,i.LJ)(o),product_id:v,search_context:t(o),sku:v},u&&(null==u?void 0:u.length)>1?(0,i.mq)({gridItems:u,item:o}):{},f&&{brand:f},m&&{product_line:m}))},[e,t])}},2526:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(2784),i=n(45077),a=e=>{var{asset:t,showErrorPageContent:n}=e,a=(0,i.T)();(0,r.useEffect)(()=>{!n&&t&&a({asset:t,isPreview:!1})},[t,a,n])}},44335:function(e,t,n){n.d(t,{Y:function(){return d}});var r=n(64576),i=n(75712),a=n(30097),o=n(3383),l=n(40824),u=n(21805),s=n(2784),d=()=>{var{isBrandSstk:e}=(0,o.D)(),{searchTrackingIdRef:t,searchTermRef:n,setters:{setSearchTrackingId:d,setSearchTerm:c}}=(0,i.uY)(),v=(0,s.useCallback)(n=>{var{trackingId:i,term:a}=n;if(i){if(t.current===i&&(0,l.CU)()===i)return;(0,l.Pc)(i),(0,l.v_)(a),d(i),c(a),e&&u.Z.set(r.d6,i,{expires:r.Dy,sameSite:"strict"})}},[e,t,c,d]),f=(0,s.useCallback)(function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:i}=r,o=(0,a.lt)({asset:r})||t.current||(0,l.CU)();return(0,a.Be)({trackingId:(null==o?void 0:o.uuid)||o,searchTerm:(null==i?void 0:i.query)||(null==i?void 0:null===(e=i.search_context)||void 0===e?void 0:e.search_term)||n.current||(0,l.DO)()})},[n,t]),m=(0,s.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=(null==t?void 0:t[0])||t,{meta:i}=r,o=(0,a.lt)({asset:r})||(0,l.CU)();return(0,a.Be)({trackingId:o,searchTerm:(null==i?void 0:i.query)||(null==i?void 0:null===(e=i.search_context)||void 0===e?void 0:e.search_term)||n.current||(0,l.DO)()})},[n]);return{setSearchContext:v,getSearchContext:f,validateSearchTrackingId:(0,s.useCallback)(()=>{var i=(0,l.CU)(),a=t.current,o=n.current,s=(0,l.DO)();(a!==i||o!==s)&&((0,l.Pc)(a),(0,l.v_)(o),e&&u.Z.set(r.d6,a,{expires:r.Dy,sameSite:"strict"}))},[e,n,t]),getSearchContextFromAssets:m}}},25421:function(e,t,n){n.d(t,{iP:function(){return d},Ol:function(){return u},o1:function(){return c}});var r,i=n(81862),a=JSON.parse('{"id":"9b39276a4c2fd8168192d2aea104dbc7220c29975ed9b48a0841bb614ec5e8ef","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{isIpReviewed classicId referenceIds{namespace name value __typename}__typename}__typename}}"}'),o=n(18034),l=n(59820),u=e=>{var{assetIds:t}=e;return[a.source,{where:{classicIds:t}}]},s=e=>{var t;return(null==e?void 0:null===(t=e.creativeImages)||void 0===t?void 0:t.data)?e.creativeImages.data.filter(e=>null!==e).map(e=>{var t=(null==e?void 0:e.isIpReviewed)||!1,n=(null==e?void 0:e.referenceIds)||[],r=(null==e?void 0:e.classicId)||"",i=n.find(e=>(null==e?void 0:e.namespace)==="ip_review"&&(null==e?void 0:e.name)==="ip_review_status");return{classicId:r,isIpReviewed:t,ipReviewStatus:(null==i?void 0:i.value)||"",queryKey:u({assetIds:[r]})}}):[]},d=(r=(0,i._)(function*(e,t){var[n,r]=t;return e(n,r).then(s)}),function(e,t){return r.apply(this,arguments)}),c=(e,t)=>{var{assetIds:n}=e,r=(0,o.H)("/");return(0,l.a)({enabled:t,queryKey:u({assetIds:n}),queryFn:e=>{var{queryKey:t}=e;return d(r,t)}})}},31125:function(e,t,n){n.d(t,{L:function(){return o}});var r=n(14109),i=n(5632),a=n(2784),o=()=>{var e=(0,i.useRouter)();return(0,a.useCallback)(t=>{var{assetType:n,collectionId:i,verificationCode:a}=t,o=(0,r.B)({assetType:n,id:i,verificationCode:a});e.push(...o)},[e])}},7796:function(e,t,n){n.d(t,{L:function(){return v},M:function(){return c}});var r=n(57460),i=n(6692),a=n(3983),o=n(2370),l=n(21805),u=n(2784),s=n(46814),d=n(81590),c=()=>{var{data:e}=(0,s.jy)(),{data:t}=(0,d.u)(),n=l.Z.get("n_v"),{isGoodBot:o,isSuspectedBadBot:c}=(0,a.N)();return(0,u.useCallback)(a=>{var l,u,s,d,v,{customAttributes:f={},error:m,msg:p,level:h="error"}=a,_=m||Error(p),g="function"==typeof _.toJSON?null===(l=_.toJSON)||void 0===l?void 0:l.call(_):{},y=(0,i._)((0,r._)((0,i._)((0,r._)({},f,g),{clientVersion:n,errorCode:_.code,errorStatus:_.status,errorDetail:_.detail,errorMessage:_.message,errorStack:_.stack||"useNewRelicNoticeError",errorTitle:_.title}),e&&{createTime:e.createTime,organizationId:e.organizationId,userId:e.id,username:e.username}),{impersonatorId:null==t?void 0:t.impersonatorId,isGoodBot:o,isSuspectedBadBot:c,msg:p,path:window.location.pathname,referrerPath:window.location.pathname,query:window.location.search,referrerQuery:window.location.search});"error"===h?(null===(s=window.NREUM)||void 0===s||null===(u=s.noticeError)||void 0===u||u.call(s,_,y),window.origin.includes("localhost")&&console.warn("sent newrelic noticeError",y)):"warn"===h&&(null===(v=window.NREUM)||void 0===v||null===(d=v.addPageAction)||void 0===d||d.call(v,_.message,(0,i._)((0,r._)({},y),{warning:!0})),window.origin.includes("localhost")&&console.log("sent newrelic addPageAction",y))},[n,t.impersonatorId,o,c,e])},v=e=>{var{customAttributes:t={},error:n,level:r="error",msg:i}=e,{data:a}=(0,s.jy)(),{data:l}=(0,d.u)(),{analytics:v}=(0,o.yh)(),f=c();(0,u.useEffect)(()=>{a&&l&&(f({customAttributes:t,error:n,msg:i,level:r}),"error"===r&&v.click({name:t.component,eventAction:t.eventAction||"seeError",eventCategory:r,eventLabel:"error-experience",eventValue:{actionText:t.actionText}}))},[n,l,r,i,a])}},30612:function(e,t,n){n.d(t,{w:function(){return s}});var r=n(81862),i=n(9778),a=n(1150),o=n(57639),l=n(79756),u=n(2784),s=()=>{var e,[t,n]=(0,u.useState)({status:"",error:void 0}),s=(0,u.useCallback)((e=(0,r._)(function*(e){var{collection:t,mediaItem:r}=e,u=(0,i.df)({urlParams:{id:t.id}}).formattedUrl,s={data:{id:t.id,relationships:{"cover-item":{data:{id:"".concat(r.id),type:o.A8}}},type:o.Ul}};try{n({status:a.MR,error:void 0}),yield l.uS.patch(u,s)}catch(e){n({status:a.cM,error:e})}}),function(t){return e.apply(this,arguments)}),[]);return{status:t,setStatus:n,setAsCover:s}}},27328:function(e,t,n){n.d(t,{A_:function(){return b},QH:function(){return C},VM:function(){return x},Zc:function(){return A},mJ:function(){return k},oe:function(){return T},uG:function(){return I}});var r,i,a,o=n(81862),l=n(57460),u=n(6692),s=n(49270),d=n(9778),c=n(31879),v=n(63002),f=n(30095),m=n(52078),p=n(34082),h=n(43677),_=n(82024),g=n(2500),y=n(81437),w=n(79756),S=n(75976),b=function(e){var{name:t,target:n="_self"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("a");r.setAttribute("data-automation","FeatureDownload_utils_link"),r.style.display="none",r.href=e,r.target=n,r.download=t||e,document.body.appendChild(r),r.click(),(0,S.bK)()||document.body.removeChild(r)},I=(r=(0,o._)(function*(e){var{downloadBundlePayload:t}=e,n=(0,s.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,{public_url:r}=(yield w.jl.post(n,t.content)).data;return r}),function(e){return r.apply(this,arguments)}),k=e=>{var{licensedContent:t,supplementalUrlType:n}=e,{downloadUrl:r,supplementalUrls:i}=t[0];if((null==i?void 0:i.length)&&n){var{url:a=r}=i.find(e=>{var{type:t}=e;return t===n})||{};return a}return r},C=(i=(0,o._)(function*(e){var{downloadPayload:t,supplementalUrlType:n,licenseeIdentifier:r}=e,i=(0,d.f$)({urlParams:{licenseeIdentifier:r}}).formattedUrl,{data:{meta:{licensedContent:a}}}=yield w.uS.post(i,t);return{downloadUrl:k({licensedContent:a,supplementalUrlType:n}),licensedContent:a}}),function(e){return i.apply(this,arguments)}),z=e=>{var{existingAssetLicenses:t,contentType:n,licenseName:r,subscriptions:i}=e;switch(n){case f.pX:var a,o,l=(0,y.I)({existingAssetLicenses:t,subscriptions:[...null!==(a=null==i?void 0:i.videoSubscriptions)&&void 0!==a?a:[],...null!==(o=null==i?void 0:i.videoCompSubscriptions)&&void 0!==o?o:[]],licenseName:r});return(null==l?void 0:l.redeemableFor)||r;case f.j0:return r||p.zUW;case f.tn:return r||p.i9D;case f.pV:default:return r}},x=(a=(0,o._)(function*(e){var t,{assets:n,existingAssetLicenses:r,format:i,selectedAssetSize:a,subscriptions:s}=e,d=n.map((t=(0,o._)(function*(e){var t=(0,_.SS)({asset:e}),n=yield(0,h.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:a});return(0,u._)((0,l._)({},n,t===f.tn&&{override_filename:"".concat(m.Oq,"_").concat(e.id,".").concat(i||n.content_format)},(0,g.f8)(e)&&(0,l._)({content_provider:"pixelsquid-media",content_size:v.JF},e.selectedFormatType===c.yI&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:z({existingAssetLicenses:r,contentType:t,licenseName:e.licenseId,subscriptions:s}),show_modal:!0})}),function(e){return t.apply(this,arguments)}));return{required_cookies:"",content:yield Promise.all(d)}}),function(e){return a.apply(this,arguments)}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,g.Tp)(e),isRex:e.isRexEditorial}))},A=e=>{var t;return requestAnimationFrame?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...r)})}:e}}}]);
//# sourceMappingURL=26761-281cd2354f918939.js.map